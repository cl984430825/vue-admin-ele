<template>
  <div id="invoiceMng">
    <div class="invoiceMng_container">
      <div class="flexBetween">
        <el-button @click="dialogVisible=true" size="medium">+ 添加发票</el-button>
        <div class="flexBox">
          <el-radio-group v-model="status" size="medium">
            <el-radio-button label="">全部</el-radio-button>
            <el-radio-button label="1">已确认</el-radio-button>
            <el-radio-button label="0">未确认</el-radio-button>
          </el-radio-group>
          <el-input 
          clearable
          class="_left"
          style="width:300px"
          v-model="searchNum"
          placeholder="合同号/发票含税金额/合同对方">
            <el-button slot="append" icon="el-icon-search"></el-button>
          </el-input>
        </div>
      </div>
      <div class="table_box _top">
        <el-table :data="tableData" border>
          <el-table-column label="发票号码">采购合同</el-table-column>
          <el-table-column label="开票日期">采购合同</el-table-column>
          <el-table-column label="发票税率">采购合同</el-table-column>
          <el-table-column label="发票含税">采购合同</el-table-column>
          <el-table-column label="发票未税">采购合同</el-table-column>
          <el-table-column label="备注信息">-</el-table-column>
          <el-table-column label="状态">采购合同</el-table-column>
          <el-table-column label="操作">
            <template slot-scope="scope">
              <span class="blueText">编辑</span>
              <span class="blueText _left">删除</span>
            </template>
          </el-table-column>
        </el-table>
        <div class="flexBetween">
          <div class="_top">
            <el-button size="medium">返 回</el-button>
          </div>
          <Page :pageConfig="pageConfig" />
        </div>
      </div>
    </div>
    <el-dialog
      width="30%"
      title="添加发票"
      :visible.sync="dialogVisible">
      <el-form :model="ruleForm" :rules="rules" ref="ruleForm" label-width="100px" class="demo-ruleForm">
        <el-form-item label="发票号码：" prop="num">
          <el-input clearable v-model="ruleForm.num"></el-input>
        </el-form-item>
        <el-form-item label="开票日期：" prop="date">
          <el-date-picker
            type="date"
            style="width:90%"
            v-model="ruleForm.date"
            placeholder="开票日期">
          </el-date-picker>
        </el-form-item>
        <el-form-item label="发票税率：" prop="tax">
          <el-input-number v-model="ruleForm.tax" controls-position="right" :min="1"></el-input-number>
        </el-form-item>
        <el-form-item label="发票含税：" prop="hs">
          <el-input v-model="ruleForm.hs" style="width:80%">
            <template slot="prepend">￥</template>
          </el-input>
        </el-form-item>
        <el-form-item label="发票未税：" prop="ws">
          <el-input v-model="ruleForm.ws" style="width:80%">
            <template slot="prepend">￥</template>
          </el-input>
        </el-form-item>
        <el-form-item label="备注说明：" prop="remark">
          <el-input
            resize="none"
            maxlength="100"
            type="textarea"
            show-word-limit
            v-model="ruleForm.remark"
            placeholder="请输入备注说明">
          </el-input>
        </el-form-item>
        <el-form-item>
          <div>
            <el-button type="primary" size="medium">确定</el-button>
            <el-button @click="dialogVisible=false" size="medium">取消</el-button>
          </div>
        </el-form-item>
      </el-form>
    </el-dialog>
  </div>
</template>

<script>
export default {
  name: "invoiceMng",
  components: {
    "Page": resolve => require(["@/components/page.vue"], resolve)
  },
  data () {
    return {
      // 检索项-状态
      status: "",
      // 检索项-合同号
      searchNum: "",
      // 数据-表单
      tableData: [1,2,3,4,5],
      // 分页
      pageConfig: {
        pageNum: 1,
        pageSize: 10,
        total: 0
      },
      // 状态-dialog
      dialogVisible: false,
      // 表单-添加发票
      ruleForm: {
        num: "",
        date: "",
        tax: 0,
        hs: "",
        ws: ""
      },
      // 表单校验规则
      rules: {
        num: { required: true, message: '请输入发票号码', trigger: 'blur' },
        date: { required: true, message: '请选择开票日期', trigger: 'blur' },
        tax: { required: true },
        hs: { required: true, message: '请输入发票含税', trigger: 'blur' },
        ws: { required: true, message: '请输入发票未税', trigger: 'blur' }
      }
    }
  },
  methods: {
    
  }
}
</script>

<style scoped>
.invoiceMng_container{
  padding: 20px;
  background: #ffffff;
}
</style>
