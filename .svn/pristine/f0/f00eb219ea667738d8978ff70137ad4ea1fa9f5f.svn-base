<template>
  <div id="engineerDetail">
    <div class="engineerDetail_container">
      <el-tabs v-model="activeIndex" @tab-click="handleClick">
        <el-tab-pane label="基础信息" name="1">
          <div class="one_titleBox">
            <div>
              <div class="titleCls">余杭组团科创中心停车场充电站投资建设清单</div>
              <div class="_top one_tagBox">
                <span class="labelCls">创建人：刘德华</span>
                <span class="labelCls _left">创建时间：2017-01-10</span>
                <span class="labelCls _left">工程状态：建设中</span>
                <span class="labelCls _left">场站：余杭组团科创中心停车场充电站</span>
              </div>
            </div>
            <div>
              <el-button @click="toCompile" type="primary">
                <i class="el-icon-edit"></i>
                <span>编辑</span>
              </el-button>
              <el-button type="primary">
                <i class="el-icon-download"></i>
                <span>导出</span>
              </el-button>
            </div>
          </div>
          <div class="one_moneyBox">
            <div class="ul_box">
              <div class="li_box">
                <span class="labelCls">合同金额</span>
                <span class="labelCls moneyNum">296,000</span>
              </div>
              <div class="li_box thredLeft">
                <span class="labelCls">结算金额</span>
                <span class="labelCls moneyNum">390,000</span>
              </div>
            </div>
            <div class="ul_box">
              <div class="li_box">
                <span class="labelCls">已支付</span>
                <span class="labelCls moneyNum">296,000</span>
              </div>
              <div class="li_box thredLeft">
                <span class="labelCls">未支付</span>
                <span class="labelCls moneyNum">390,000</span>
              </div>
            </div>
            <div class="ul_box" style="border:0">
              <div class="li_box">
                <span class="labelCls">发票未税</span>
                <span class="labelCls moneyNum">296,000</span>
              </div>
              <div class="li_box thredLeft">
                <span class="labelCls">发票含税</span>
                <span class="labelCls moneyNum">390,000</span>
              </div>
              <div class="li_box thredLeft">
                <span class="labelCls">暂估未税</span>
                <span class="labelCls moneyNum">390,000</span>
              </div>
              <div class="li_box thredLeft">
                <span class="labelCls">暂估含税</span>
                <span class="labelCls moneyNum">390,000</span>
              </div>
            </div>
          </div>
        </el-tab-pane>
        <el-tab-pane label="项目信息" name="2">
          <div class="table_box">
            <el-input 
            clearable
            v-model="projectSearch"
            style="width:300px" 
            placeholder="批次/编号/发票号">
              <el-button slot="append" icon="el-icon-search"></el-button>
            </el-input>
            <el-table 
            border
            class="_top"
            :data="projectTable"
            :header-cell-style="{background:'#F6F5F4'}">
              <el-table-column label="合同号" width="200">123</el-table-column>
              <el-table-column label="项目内容" width="200">123</el-table-column>
              <el-table-column label="合同金额" width="100">123</el-table-column>
              <el-table-column label="签订日期" width="100">123</el-table-column>
              <el-table-column label="合同对方" width="150">123</el-table-column>
              <el-table-column label="发票含税" width="100">123</el-table-column>
              <el-table-column label="发票未税" width="100">123</el-table-column>
              <el-table-column label="暂估含税" width="100">123</el-table-column>
              <el-table-column label="暂估未税" width="100">123</el-table-column>
              <el-table-column label="已支付" width="100">123</el-table-column>
              <el-table-column label="未支付" width="100">123</el-table-column>
              <el-table-column label="支付方式" width="300">123</el-table-column>
              <el-table-column label="操作" fixed="right" width="160">
                <template>
                  <span @click="toInvoice" class="blueText">发票管理</span>
                  <span class="blueText _left">付款记录</span>
                </template>
              </el-table-column>
            </el-table>
            <Page :pageConfig="pageConfig" />
          </div>
        </el-tab-pane>
        <el-tab-pane label="物资信息" name="3">
          <div class="table_box">
            <el-input 
              clearable
              v-model="engineerSearch"
              style="width:300px" 
              placeholder="批次/编号/发票号">
              <el-button slot="append" icon="el-icon-search"></el-button>
            </el-input>
            <el-table border class="_top" :data="engTable" :header-cell-style="{background:'#F6F5F4'}">
              <el-table-column label="供应商">1</el-table-column>
              <el-table-column label="物资名称">2</el-table-column>
              <el-table-column label="物资编号">3</el-table-column>
              <el-table-column label="领用人">4</el-table-column>
              <el-table-column label="使用状况">5</el-table-column>
              <el-table-column label="发票编号">1</el-table-column>
              <el-table-column label="入库时间">2</el-table-column>
              <el-table-column label="领用时间">123</el-table-column>
              <el-table-column label="转入数量">123</el-table-column>
              <el-table-column label="转入未税（元）" width="120">123</el-table-column>
            </el-table>
            <Page :pageConfig="endPageConfig" />
          </div>
        </el-tab-pane>
      </el-tabs>
    </div>
  </div>
</template>

<script>
export default {
  name: "engineerDetail",
  components: {
    "Page": resolve => require(["@/components/page.vue"], resolve)
  },
  data () {
    return {
      // tab选中项
      activeIndex: "1",
      // 项目信息索引项
      projectSearch: "",
      // 物资信息索引项
      engineerSearch: "",
      // 项目信息table
      projectTable: [1,2,3],
      // 物资信息table
      engTable: [1,2,3],
      // 项目信息分页配置项
      pageConfig: {
        pageNum: 1,
        pageSize: 10,
        total: 0
      },
      // 物资信息分页配置项
      endPageConfig: {
        pageNum: 1,
        pageSize: 10,
        total: 0
      }
    }
  },
  methods: {
    // tab切换触发
    handleClick () {
      console.log(this.activeIndex)
    },
    // 编辑项目
    toCompile () {
      this.$router.push("/engineering/compile");
    },
    // 发票管理
    toInvoice () {
      this.$router.push("/engineering/invoiceMng");
    }
  }
}
</script>

<style scoped>
.engineerDetail_container{
  background: #ffffff;
}
.one_titleBox{
  padding: 10px 40px 25px 40px;
  display: flex;
  align-items: center;
  justify-content: space-between;
}
.one_tagBox{
  display: flex;
  align-items: center;
  flex-wrap: wrap;
}
.one_moneyBox{
  display: flex;
  align-items: center;
  border-top: 1px solid #dddddd;
}
.ul_box{
  display: flex;
  align-items: center;
  padding: 20px 30px;
  border-right: 1px solid #dddddd;
}
.li_box{
  display: flex;
  flex-direction: column;
}
.moneyNum{
  font-size: 20px;
  margin-top: 20px;
}
.thredLeft{
  margin-left: 30px;
}
.table_box{
  padding: 10px 20px 20px 20px;
}
</style>
