<template>
  <div id="engineerList">
    <div class="engineerList_container">
      <div class="search_box">
        <div class="_bottom">
          <span class="labelCls">关键词：</span>
          <el-input
          clearable
          maxlength="20"
          v-model="searName"
          style="width:260px" 
          placeholder="工程名称/工程编号/场站名称"></el-input>
        </div>
        <div class="_left _right _bottom">
          <span class="labelCls">状态：</span>
          <el-select v-model="status" placeholder="请选择" clearable>
            <el-option
            :key="index"
            :label="item"
            :value="index"
            v-for="(item, index) in ['建设中','已完成']"></el-option>
          </el-select>
        </div>
        <div class="_bottom">
          <el-button type="primary" size="medium">查询</el-button>
          <el-button size="medium">重置</el-button>
        </div>
      </div>
      <div>
        <el-button @click="add" type="primary" size="medium">+ 新建</el-button>
      </div>
      <div class="table_box _top">
        <el-table border :data="tableData" :header-cell-style="{background:'#F6F5F4'}">
          <el-table-column label="工程编号" width="100">GC001</el-table-column>
          <el-table-column label="工程名称">余杭组团科创中心停车场充电站</el-table-column>
          <el-table-column label="合同金额" width="90">29.60万</el-table-column>
          <el-table-column label="已付金额" width="90">29.60万</el-table-column>
          <el-table-column label="未付金额" width="90">29.60万</el-table-column>
          <el-table-column label="到票金额" width="90">29.60万</el-table-column>
          <el-table-column label="未票金额" width="90">29.60万</el-table-column>
          <el-table-column label="状态" width="80">建设中</el-table-column>
          <el-table-column label="创建时间">2016-09-21 08:50:08</el-table-column>
          <el-table-column label="操作" width="110">
            <template slot-scope="scope">
              <span @click="lookDetail(scope)" class="blueText">查看</span>
              <el-dropdown trigger="click" @command="handleCommand">
                <span @click="more" class="blueText _left">更多</span>
                <el-dropdown-menu slot="dropdown">
                  <el-dropdown-item command="1" icon="el-icon-edit">编辑</el-dropdown-item>
                  <el-dropdown-item command="2" icon="el-icon-delete">删除</el-dropdown-item>
                  <el-dropdown-item command="3" icon="el-icon-download">导出</el-dropdown-item>
                </el-dropdown-menu>
              </el-dropdown>
            </template>
          </el-table-column>
        </el-table>
        <Page :pageConfig="pageConfig" />
      </div>
    </div>
  </div>
</template>

<script>
export default {
  name: "engineerList",
  components: {
    "Page": resolve => require(["@/components/page.vue"], resolve)
  },
  data () {
    return {
      // 检索项-关键词
      searName: "",
      // 检索项-状态
      status: "",
      // 数据-table表格
      tableData: [1,2,3],
      // 分页配置项
      pageConfig: {
        pageNum: 1,
        pageSize: 10,
        total: 0
      }
    }
  },
  methods: {
    more(){
      console.log(123)
    },
    handleCommand (e) {
      switch(e){
        case "1":
          this.$router.push("/engineering/compile");
        case "2":
          console.log("删除")
        case "3":
          console.log("导出")
      }
    },
    // 查看详情
    lookDetail(scope){
      this.$router.push("/engineering/detail");
    },
    // 添加工程
    add(){
      this.$router.push("/engineering/add");
    }
  }
}
</script>

<style scoped>
.engineerList_container{
  padding: 20px;
  background: #ffffff;
}
.search_box{
  display: flex;
  flex-wrap: wrap;
  align-items: center;
}
</style>
